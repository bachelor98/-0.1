{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","logoType","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","onbeforeunload","String","stringify","setItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,YAAYC,EAAE,WAAF,CAAlB;AACA,IAAMC,UAAUF,UAAUG,IAAV,CAAe,SAAf,CAAhB;AACA,IAAMC,IAAIC,aAAaC,OAAb,CAAqB,GAArB,CAAV;AACA,IAAMC,UAAUC,KAAKC,KAAL,CAAWL,CAAX,CAAhB,EAAiC;;AAEjC,IAAMM,UAAUH,WAAW,CACvB,EAAEI,MAAK,GAAP,EAAWC,UAAS,OAApB,EAA4BC,KAAI,sBAAhC,EADuB,EAEvB,EAAEF,MAAK,GAAP,EAAWC,UAAS,MAApB,EAA2BC,KAAI,0BAA/B,EAFuB,EAGvB,EAAEF,MAAK,GAAP,EAAWC,UAAS,MAApB,EAA2BC,KAAI,oBAA/B,EAHuB,CAA3B;;AAMA,IAAMC,cAAc,SAAdA,WAAc,CAACD,GAAD,EAAO;AACvB,WAAOA,IAAIE,OAAJ,CAAY,UAAZ,EAAuB,EAAvB,EACNA,OADM,CACE,SADF,EACY,EADZ,EAENA,OAFM,CAEE,MAFF,EAES,EAFT,EAGNA,OAHM,CAGE,MAHF,EAGS,EAHT,CAAP;AAIH,CALD;;AAOA,IAAMC,SAAS,SAATA,MAAS,GAAI;AACfhB,cAAUG,IAAV,CAAe,eAAf,EAAgCc,MAAhC,GADe,CAC8B;AAC7CP,YAAQQ,OAAR,CAAgB,UAACC,IAAD,EAAMC,KAAN,EAAc;AAC1B,YAAMC,MAAMpB,qFAGYkB,KAAKR,IAHjB,8CAIYG,YAAYK,KAAKN,GAAjB,CAJZ,0OAWJS,YAXI,CAWSpB,OAXT,CAAZ;AAYAmB,YAAIE,EAAJ,CAAO,OAAP,EAAe,YAAI;AACfC,mBAAOC,IAAP,CAAYN,KAAKN,GAAjB;AACH,SAFD;AAGAQ,YAAIE,EAAJ,CAAO,OAAP,EAAe,QAAf,EAAwB,UAACG,CAAD,EAAK;AACzBA,cAAEC,eAAF,GADyB,CACD;AACxBjB,oBAAQkB,MAAR,CAAeR,KAAf,EAAqB,CAArB;AACAJ;AACH,SAJD;AAKH,KArBD;AAsBH,CAxBD;;AA0BAA;;AAEAf,EAAE,YAAF,EAAgBsB,EAAhB,CAAmB,OAAnB,EAA2B,YAAI;AAC3B,QAAIV,MAAMW,OAAOK,MAAP,CAAc,YAAd,CAAV;AACA,QAAGhB,IAAIiB,OAAJ,CAAY,MAAZ,MAAsB,CAAzB,EAA2B;AAAK;AAC5BjB,cAAM,aAAaA,GAAnB;AACH;AACDH,YAAQqB,IAAR,CAAa,EAACpB,MAAKG,YAAYD,GAAZ,EAAiB,CAAjB,EAAoBmB,WAApB,EAAN,EAAwCpB,UAAS,MAAjD,EAAwDC,KAAIA,GAA5D,EAAb;AACAG;AACH,CAPD;;AASAQ,OAAOS,cAAP,GAAwB,YAAI;AACxB,QAAMC,SAAS1B,KAAK2B,SAAL,CAAezB,OAAf,CAAf,CADwB,CACgB;AACxCc,WAAOnB,YAAP,CAAoB+B,OAApB,CAA4B,GAA5B,EAAgCF,MAAhC;AACH,CAHD","file":"main.bb50f03c.map","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.last')\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)    //把字符串重新变成对象\r\n\r\nconst hashMap = xObject || [\r\n    { logo:'A',logoType:'image',url:'https://www.acfun.cn'},\r\n    { logo:'B',logoType:'text',url:'https://www.bilibili.com'},\r\n    { logo:'G',logoType:'text',url:'https://github.com'},\r\n]\r\n\r\nconst simplifyUrl = (url)=>{\r\n    return url.replace('https://','')\r\n    .replace('http://','')\r\n    .replace('www.','')\r\n    .replace(/\\/.*/,'')\r\n}\r\n\r\nconst render = ()=>{\r\n    $siteList.find('li:not(.last)').remove()     //唯独不要最后一个last\r\n    hashMap.forEach((node,index)=>{\r\n        const $li = $(`\r\n        <li>\r\n            <div class=\"site\">\r\n            <div class=\"logo\">${node.logo}</div>\r\n            <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n            <div class=\"close\">\r\n                <svg class=\"icon\" aria-hidden=\"true\">\r\n                <use xlink:href=\"#icon-close\"></use>\r\n                </svg>\r\n            </div>\r\n            </div>\r\n        </li>`).insertBefore($lastLi)\r\n        $li.on('click',()=>{\r\n            window.open(node.url)\r\n        })\r\n        $li.on('click','.close',(e)=>{\r\n            e.stopPropagation()     //阻止冒泡（不是冒泡排序）\r\n            hashMap.splice(index,1)\r\n            render()\r\n        })\r\n    })\r\n}\r\n\r\nrender()\r\n\r\n$('.addButton').on('click',()=>{\r\n    let url = window.prompt('请输入你要添加的网址')\r\n    if(url.indexOf('http')!==0){    //判断是否以http开头\r\n        url = 'https://' + url\r\n    }\r\n    hashMap.push({logo:simplifyUrl(url)[0].toUpperCase(),logoType:'text',url:url});\r\n    render()\r\n});\r\n\r\nwindow.onbeforeunload = ()=>{\r\n    const String = JSON.stringify(hashMap)  //这可以把一个对象变成字符串\r\n    window.localStorage.setItem('x',String)\r\n}\r\n\r\n"]}